Como vimos, el problema de lo anterior era la falta de división en subtareas: la expresión que cuenta la cantidad de bolitas que hay en la celda es demasiado compleja, y cuesta entender a simple vista que hace eso.

Entonces, lo que nos está faltando es algún mecanismo para poder darle un nombre a esa expresión compleja; algo análogo a los procedimientos pero que sirva para encapsular expresiones.

La buena noticia es que Gobstones nos permite hacer esto, y la herramienta para ello es definir una función, que se escribe así:

function nroBolitasTotal() {
  return (nroBolitas(Azul) + nroBolitas(Negro) + nroBolitas(Rojo) + nroBolitas(Verde))
}
Pegá el código anterior en el editor y observá el resultado.

function nroBolitasTotal() {
  return (nroBolitas(Azul) + nroBolitas(Negro) + nroBolitas(Rojo) + nroBolitas(Verde))
}

Algunas aclaraciones sobre las funciones:

son un caso particular de las expresiones, y por lo tanto siguen las mismas reglas que ellas: se escriben con la primera letra minúscula y siempre denotan algún valor (en este caso, un número);
en la última línea de su definición siempre va un return, seguido de una expresión entre paréntesis: el valor que la función va a retornar.
